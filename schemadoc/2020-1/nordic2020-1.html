<?xml version="1.0" encoding="UTF-8"?><html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
   <head>
      <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
      <title>Schematron rules for Nordic EPUB 2020-1</title><style>
                    body{
                        font-family: Arial, Helvetica, sans-serif;
                        font-size: 12px;
                        max-width: 95%;
                        margin: auto;
                    }
                    h1{
                        text-align: center;
                        font-size: 1.5rem;
                        margin-top: 1rem;
                        margin-bottom: 2rem;
                    }
                    table,
                    th,
                    td{
                        border: 0.1rem solid #ddd;
                        border-collapse: collapse;
                        padding: 0.5rem;
                    }
                    table{
                        margin-bottom: 2rem
                    }
                    tr:nth-child(even){
                        background-color: #f2f2f2;
                    }
                    tbody tr:hover{
                        background-color: #ddd;
                    }
                    thead{
                        background-color: #1D393C;
                        color: white;
                    }
                    td:first-child{
                        white-space: nowrap;
                    }
                    footer{
                        margin-top: 1rem;
                        margin-bottom: 1rem;
                        text-align: center;
                        font-size: 0.8rem;
                    }</style></head>
   <body>
      <h1>Schematron rules for Nordic EPUB 2020-1</h1>
      <table>
         <thead>
            <tr>
               <th>Rule</th>
               <th>Global description</th>
               <th>Detailed description</th>
            </tr>
         </thead>
         <tbody>
            <tr>
               <td>8</td>
               <td>Only allow pagebreak w/page-front in frontmatter</td>
               <td>[nordic08] &lt;span epub:type="pagebreak" class="page-front"/&gt; may only occur in frontmatter and cover. <br /></td>
            </tr>
            <tr>
               <td>9</td>
               <td>Disallow empty elements (with a few exceptions)</td>
               <td>[nordic09] Only the following elements can be empty: img, br, meta, link, col, th, td, dd, hr, script, and pagebreaks (span/div).
                  <br /></td>
            </tr>
            <tr>
               <td>11</td>
               <td>Root element must have @xml:lang and @lang</td>
               <td>[nordic11] The &lt;html&gt; element must have an xml:lang attribute.<br />[nordic11] The &lt;html&gt; element must have a lang attribute.<br /></td>
            </tr>
            <tr>
               <td>12</td>
               <td>Frontmatter starts with doctitle and docauthor</td>
               <td>[nordic12] Single-HTML document must begin with a fulltitle heading in its header element (xpath:
                  /html/body/header/h1).<br /></td>
            </tr>
            <tr>
               <td>13</td>
               <td>All books must have frontmatter and bodymatter</td>
               <td>[nordic13a] A single-HTML document must have at least one frontmatter or cover section.<br />[nordic13a] A single-HTML document must have at least one bodymatter section.<br />[nordic13a] The single-HTML document must not have cover, frontmatter, bodymatter or backmatter as epub:type on its body element.<br /></td>
            </tr>
            <tr>
               <td>13b</td>
               <td></td>
               <td>[nordic13b] The single-HTML document must not have cover, frontmatter, bodymatter or backmatter on any of its sectioning elements
                  other than the top-level elements that has body as its parent.<br /></td>
            </tr>
            <tr>
               <td>13c</td>
               <td></td>
               <td>[nordic13c] The top-level section element must have either cover, frontmatter, bodymatter or backmatter as one of the values
                  on its epub:type. <br /></td>
            </tr>
            <tr>
               <td>13d</td>
               <td></td>
               <td>[nordic13d] Section elements that are not top-level sections must not have cover, frontmatter, bodymatter or backmatter as
                  one of the values on its epub:type attribute. It is allowed (but optional) to use the bodymatter type on section elements
                  that are direct children of sections with epub:type="part"). <br />[nordic13d] Section elements in parts must not have cover, frontmatter or backmatter as one of the values on its epub:type
                  attribute. <br /></td>
            </tr>
            <tr>
               <td>13e</td>
               <td>The body element must not have a epub:type attribute.</td>
               <td>[nordic13e] The body element must not have a epub:type attribute.<br /></td>
            </tr>
            <tr>
               <td>15</td>
               <td></td>
               <td>[nordic15] Cover must not be preceded by any other top-level sections. <br />[nordic15] Frontmatter must not be preceded by bodymatter or rearmatter. <br />[nordic15] Bodymatter must not be preceded by backmatter. <br /></td>
            </tr>
            <tr>
               <td>21</td>
               <td>No nested tables</td>
               <td>[nordic21] Nested tables are not allowed. <br /></td>
            </tr>
            <tr>
               <td>23</td>
               <td>Increasing pagebreak values for page-normal</td>
               <td>[nordic23] pagebreak values must increase for pagebreaks with class="page-normal".  <br /></td>
            </tr>
            <tr>
               <td>24</td>
               <td>Values of pagebreak must be unique for page-front</td>
               <td>[nordic24] pagebreak values must be unique for pagebreaks with class="page-front".  <br /></td>
            </tr>
            <tr>
               <td>26a</td>
               <td>Each note must have a noteref</td>
               <td>[nordic26a] Each note must have at least one &lt;a epub:type="noteref"
                  ...&gt; referencing it. <br /></td>
            </tr>
            <tr>
               <td>26b</td>
               <td>Each noteref must reference a note</td>
               <td>[nordic26b] The note reference must point to a note, endnote or footnote in the publication using its href attribute. <br /></td>
            </tr>
            <tr>
               <td>27a</td>
               <td>Each annotation must have an annoref</td>
               <td>[nordic27a] Each annotation must have at least one &lt;a epub:type="annoref" ...&gt; referencing it. <br /></td>
            </tr>
            <tr>
               <td>27b</td>
               <td>Each annoref must reference a annotation</td>
               <td>[nordic27b] The annotation must point to a annotation in the publication using its href attribute. <br /></td>
            </tr>
            <tr>
               <td>29a</td>
               <td>No block elements in inline context (as child). Inline elements: a, abbr, bdo, code, dfn, em, kbd, q, samp, span, strong,
                  sub, sup. Block elements: address, aside, blockquote, p, caption, div, dl, ul, ol, figure, table, h1, h2, h3, h4, h5, h6,
                  details, summary.
               </td>
               <td>[nordic29] Block element  used in inline context. <br /></td>
            </tr>
            <tr>
               <td>29b</td>
               <td>No block elements in inline context (as sibling). Inline elements: a, abbr, bdo, code, dfn, em, kbd, q, samp, span, strong,
                  sub, sup. Block elements: address, aside, blockquote, p, caption, div, dl, ul, ol, figure, table, h1, h2, h3, h4, h5, h6,
                  details, summary, section, article.
               </td>
               <td>[nordic29] Block elements  are not allowed as siblings to inline elements. <br />[nordic29] Block elements  are not allowed as siblings to text content. <br /></td>
            </tr>
            <tr>
               <td>50a</td>
               <td>image alt attribute</td>
               <td>[nordic50a] an image inside a figure with class='image' must have a non-empty alt attribute. <br /></td>
            </tr>
            <tr>
               <td>51 &amp; 52</td>
               <td></td>
               <td>[nordic52] Images must have either the .jpg file extension or the .png file extension. <br />[nordic52] Images must have a base name, not just an extension. <br />[nordic51] Images must be in the "images" folder (relative to the HTML file).<br />[nordic52] Image file names can only contain the characters a-z, A-Z, 0-9, underscore (_) or hyphen (-). <br /></td>
            </tr>
            <tr>
               <td>59</td>
               <td>No pagegnum between a term and a definition in definition lists</td>
               <td>[nordic59] pagebreak in definition list must not occur as siblings to dd or dt. <br /></td>
            </tr>
            <tr>
               <td>63</td>
               <td>Only note references within the same document</td>
               <td>[nordic63] Only note references within the same publication are allowed. <br /></td>
            </tr>
            <tr>
               <td>64</td>
               <td>Only annotation references within the same document</td>
               <td>[nordic64] Only annotation references within the same publication are allowed.<br /></td>
            </tr>
            <tr>
               <td>93</td>
               <td>Some elements may not start of end with whitespace</td>
               <td>[nordic93] Headings (h1-h6) may not have leading whitespace. <br />[nordic93] Headings (h1-h6) may not have trailing whitespace. <br /></td>
            </tr>
            <tr>
               <td>96b</td>
               <td></td>
               <td>[nordic96b] Nested image series figures are not allowed. Image figures must use the class "image", while image series figures
                  must use the class "image-series". <br /></td>
            </tr>
            <tr>
               <td>96a</td>
               <td>No fig-desc allowed for doc-cover</td>
               <td>[nordic96c] Aside elements with class="fig-desc" are not allowed in figure elements containing an img with role="doc-cover".
                  <br /></td>
            </tr>
            <tr>
               <td>101</td>
               <td>All image series must have at least one image figure</td>
               <td>[nordic101] There must be at least one figure with class="image" in a image series figure. <br /></td>
            </tr>
            <tr>
               <td>102</td>
               <td>All image figures must have a image</td>
               <td>[nordic102] There must be an img element in every figure with class="image". <br />[nordic102] Nested images figures are not allowed. Image figures must use the class "image", while image series figures must
                  use the class "image-series". <br /></td>
            </tr>
            <tr>
               <td>104</td>
               <td>Headings may not be empty elements</td>
               <td>[nordic104] Headings may not be empty. <br /></td>
            </tr>
            <tr>
               <td>105</td>
               <td>Pagebreaks must have a page-* class and must not contain anything</td>
               <td>[nordic105] Page breaks must have either a 'page-front', a 'page-normal' or a 'page-special' class. <br />[nordic105] Pagebreaks must not contain elements or comments. Text content, if present, must not contain extra whitespace.
                  <br /></td>
            </tr>
            <tr>
               <td>110</td>
               <td>pagebreak in headings</td>
               <td>[nordic110] Pagebreak elements are not allowed in headings. <br /></td>
            </tr>
            <tr>
               <td>116</td>
               <td>Don't allow arabic numbers in pagebreak w/page-front</td>
               <td>[nordic116] Hindu-Arabic numbers (0-9) when @class="page-front" are not allowed. <br /></td>
            </tr>
            <tr>
               <td>121</td>
               <td>pagebreaks in tables must not occur between table rows</td>
               <td>[nordic121] Page numbers in tables must not be placed between table rows. <br /></td>
            </tr>
            <tr>
               <td>123 (39)</td>
               <td>Cover is not part of frontmatter, bodymatter or backmatter</td>
               <td>[nordic123] Cover (Jacket copy) is a document partition and can not be part the other document partitions frontmatter, bodymatter
                  and rearmatter. <br /></td>
            </tr>
            <tr>
               <td>131a</td>
               <td></td>
               <td>[nordic131a] xml:lang must must be either a "two- or three-letter lower case" code or a "two- or three-letter lower case and
                  groups of hyphen followed by numbers or letters" (i.e. zh-Hanz-UTF8) code. <br /></td>
            </tr>
            <tr>
               <td>131b</td>
               <td></td>
               <td>[nordic131b] lang must must be either a "two- or three-letter lower case" code or a "two- or three-letter lower case and groups
                  of hyphen followed by numbers or letters" (i.e. zh-Hanz-UTF8) code. <br /></td>
            </tr>
            <tr>
               <td>135a</td>
               <td>Poem contents</td>
               <td>[nordic135] Every poem must contain a linegroup. <br />[nordic135] Poem lines must be wrapped in a linegroup.  contains; .<br />[nordic135] Poem lines must be wrapped in a linegroup.  contains; .<br />[nordic135] Poem lines must be wrapped in a linegroup.  contains; .<br /></td>
            </tr>
            <tr>
               <td>140</td>
               <td>Jacket copy must contain at least one part of the cover, at most one of each @class value and no other elements</td>
               <td>[nordic140] Only sections with one of the classes 'frontcover', 'rearcover', 'leftflap' or 'rightflap' is allowed in cover.<br />[nordic140] There must be at least one section with one of the classes 'frontcover', 'rearcover', 'leftflap' or 'rightflap'
                  in cover. <br />[nordic140] There can not be more than one section with class="frontcover" in cover. <br />[nordic140] There can not be more than one section with class="rearcover" in cover. <br />[nordic140] There can not be more than one section with class="leftflap" in cover. <br />[nordic140] There can not be more than one section with class="rightflap" in cover. <br /></td>
            </tr>
            <tr>
               <td>143a</td>
               <td>Don't allow pagebreak as siblings to list items or inside the first list item</td>
               <td>[nordic143a] Pagebreaks are not allowed as siblings to list items. <br /></td>
            </tr>
            <tr>
               <td>143b</td>
               <td></td>
               <td>[nordic143b] It is not allowed to have a pagebreak at the beginning of the first list item; it should be placed before the
                  list. <br /></td>
            </tr>
            <tr>
               <td>200</td>
               <td>The title element must not be empty</td>
               <td>[nordic200] The title element must not be empty. <br /></td>
            </tr>
            <tr>
               <td>202</td>
               <td>frontmatter</td>
               <td>[nordic202] '' is not an allowed type in frontmatter. On elements with the epub:type "frontmatter", you can either leave the
                  type blank (and just use 'frontmatter' as the type in the filename), or you can use one of the allowed types.  <br /></td>
            </tr>
            <tr>
               <td>203a</td>
               <td>Check that both the epub:types "endnote" and "endnotes" are used in endnotes</td>
               <td>[nordic203a] 'endnote' must have a section ancestor with 'endnotes'. <br /></td>
            </tr>
            <tr>
               <td>203c</td>
               <td></td>
               <td>[nordic203c] Sections with the epub:type 'endnotes' must have descendants with 'endnote'. <br />[nordic203c] Sections with the epub:type 'endnotes' must have &lt;ol&gt; descendant elements. <br /></td>
            </tr>
            <tr>
               <td>203d</td>
               <td></td>
               <td>[nordic203d] 'endnote' can only be applied to &lt;li&gt; elements. <br /></td>
            </tr>
            <tr>
               <td>204a</td>
               <td>Check that footnotes are placed correctly in a section.</td>
               <td>[nordic204a] 'footnote' must have a parent section. <br />[nordic204a] 'footnote' must be placed at the end of a section.<br /></td>
            </tr>
            <tr>
               <td>204d</td>
               <td></td>
               <td>[nordic204d] 'footnote' can only be applied to &lt;aside&gt; elements. <br />[nordic204d] The 'doc-footnote' role must be applied to all footnotes. <br /></td>
            </tr>
            <tr>
               <td>208</td>
               <td>bodymatter</td>
               <td>[nordic208] Elements with the type "bodymatter" must also have one of the allowed epub:type values allowed for such sections.
                  <br /></td>
            </tr>
            <tr>
               <td>211</td>
               <td>bodymatter.part</td>
               <td>[nordic211] Sections inside a part must also have one of the allowed epub:type values allowed for such sections.  <br /></td>
            </tr>
            <tr>
               <td>215</td>
               <td>backmatter</td>
               <td>[nordic215] If elements with the type "backmatter" has additional types, they must be one of the allowed epub:type values
                  allowed for such sections.  <br /></td>
            </tr>
            <tr>
               <td>225</td>
               <td>pagebreak</td>
               <td>[nordic225] The aria-label attribute must be used to describe the page number. <br /></td>
            </tr>
            <tr>
               <td>247</td>
               <td>doctitle.heading - h1</td>
               <td>[nordic247] The first (h1) heading on the titlepage must have the 'fulltitle' epub:type.<br /></td>
            </tr>
            <tr>
               <td>251</td>
               <td>lic - span</td>
               <td>[nordic251] The parent of a list item component (span class="lic") must be either a "li" or a "a" (where the "a" has "li"
                  as parent). <br /></td>
            </tr>
            <tr>
               <td>253a</td>
               <td>figures and captions</td>
               <td>[nordic253a] &lt;figure&gt; elements must either have a class of "image", "image-series" or "table". <br />[nordic253a] &lt;figure&gt; elements must either have a class of "image", "image-series" or "table". <br />[nordic253a] There cannot be more than one &lt;figcaption&gt; in a single figure element. <br /></td>
            </tr>
            <tr>
               <td>253b</td>
               <td></td>
               <td>[nordic253b] Image figures must contain exactly one img. <br />[nordic253b] The img in image figures must be a direct child of the figure. <br /></td>
            </tr>
            <tr>
               <td>253c</td>
               <td></td>
               <td>[nordic253c] Image series figures cannot contain img childen (the img elements must be contained in children figure elements).
                  <br />[nordic253c] Image series must contain at least 2 image figures ("figure" elements with class "image"). <br /></td>
            </tr>
            <tr>
               <td>256</td>
               <td>HTML documents with only a heading</td>
               <td>[nordic256] Sections in bodymatter must contain more than just headings and pagebreaks, except for when epub:type="part".
                  <br /></td>
            </tr>
            <tr>
               <td>257</td>
               <td>always require both xml:lang and lang</td>
               <td>[nordic257] The `xml:lang` and the `lang` attributes must have the same value. <br /></td>
            </tr>
            <tr>
               <td>258</td>
               <td>allow at most one pagebreak before any content in each content file</td>
               <td>[nordic258] Only one pagebreak is allowed before any content in each content file. <br /></td>
            </tr>
            <tr>
               <td>259</td>
               <td>don't allow pagebreak in thead</td>
               <td>[nordic259] Pagebreaks can not occur within table headers (thead). <br />[nordic259] Pagebreaks can not occur within table footers (tfoot). <br /></td>
            </tr>
            <tr>
               <td>260b</td>
               <td></td>
               <td>[nordic260b] Content is not allowed between or after image figure elements. <br /></td>
            </tr>
            <tr>
               <td>261</td>
               <td>Text can't be direct child of div</td>
               <td>[nordic261] Text can't be placed directly inside div elements. Try wrapping it in a p element.  <br /></td>
            </tr>
            <tr>
               <td>263</td>
               <td>there must be a heading on the titlepage</td>
               <td>[nordic263] the titlepage must have a heading (and the heading must have epub:type="fulltitle" and class="title").<br /></td>
            </tr>
            <tr>
               <td>264</td>
               <td>h1 on titlepage must be epub:type=fulltitle with class=title</td>
               <td>[nordic264] the heading on the titlepage must have a epub:type with the value "fulltitle". <br />[nordic264] the heading on the titlepage must have a class with the value "title". <br /></td>
            </tr>
            <tr>
               <td>267a</td>
               <td></td>
               <td>[nordic267a] Endnotes must be wrapped in a "ol" element, but is currently wrapped in a . <br /></td>
            </tr>
            <tr>
               <td>267b</td>
               <td></td>
               <td>[nordic267b] List items inside a endnotes list must use epub:type="endnote". <br /></td>
            </tr>
            <tr>
               <td>268</td>
               <td>Check that the heading levels are nested correctly (necessary for sidebars and poems, and maybe other structures as well where
                  the RelaxNG is unable to enforce the level)
               </td>
               <td>[nordic268] The subsections of  (which contains the heading &lt;/&gt;) must only use &lt;h&gt; for headings. It contains the element 
                  which contains the heading  .<br /></td>
            </tr>
            <tr>
               <td>269</td>
               <td></td>
               <td>[nordic269] The type used in the filename () must be present on the section element, and be the most specific (). <br /></td>
            </tr>
            <tr>
               <td>270</td>
               <td></td>
               <td>[nordic270] Bridgehead is only allowed as a child of section, article, div and aside. <br /></td>
            </tr>
            <tr>
               <td>273</td>
               <td></td>
               <td>[nordic273] Internal link  does not resolve. <br /></td>
            </tr>
            <tr>
               <td>273b</td>
               <td>Disallow internal links without fragment identifiers (see https://github.com/nlbdev/nordic-epub3-dtbook-migrator/issues/372)</td>
               <td>[nordic273b] Internal links must contain a non-empty fragment identifier. <br /></td>
            </tr>
            <tr>
               <td>279a</td>
               <td></td>
               <td>[nordic279a] The start attribute must not be used in lists without markers (numbers/letters). <br /></td>
            </tr>
            <tr>
               <td>279b</td>
               <td></td>
               <td>[nordic279b] The start attribute must be a positive integer. <br /></td>
            </tr>
            <tr>
               <td>280</td>
               <td></td>
               <td>[nordic280] Metadata with the dc prefix are only allowed for the 15 official Dublin Core metadata elements: dc:title, dc:subject,
                  dc:description, dc:type, dc:source, dc:relation, dc:coverage, dc:creator, dc:publisher, dc:publisher.original, dc:contributor,
                  dc:rights, dc:date, dc:format, dc:identifier and dc:language. <br />[nordic280] The dc metadata prefix must be in lower case. <br /></td>
            </tr>
            <tr>
               <td>281</td>
               <td></td>
               <td>[nordic281] The span attribute on col and colgroup elements must be a positive integer. <br /></td>
            </tr>
            <tr>
               <td>282</td>
               <td></td>
               <td>[nordic282] The rowspan attribute value on td and th elements must be a positive integer. <br />[nordic282] The colspan attribute value on td and th elements must be a positive integer. <br />[nordic282] The rowspan attribute value on td and th elements must not be larger than the number of rows left in the table.
                  <br /></td>
            </tr>
            <tr>
               <td>283</td>
               <td></td>
               <td>[nordic283] When using MathML with a namespace prefix, that prefix must be 'm'.  <br /></td>
            </tr>
            <tr>
               <td>290</td>
               <td>Rearnotes should not be used. Use endnotes instead.</td>
               <td>[nordic290] Rearnotes are deprecated. Endnotes are required to be used instead. <br /></td>
            </tr>
            <tr>
               <td>291</td>
               <td>Backmatter sections require specific roles</td>
               <td>
                  [nordic291] Backmatter can only use roles (doc-acknowledgments, doc-afterword, doc-appendix, doc-bibliography, doc-colophon,
                  doc-conclusion, doc-dedication, doc-epigraph, doc-epilogue, doc-glossary, doc-index, doc-toc) 
                  <br /></td>
            </tr>
            <tr>
               <td>292</td>
               <td>Class sidebar is deprecated for asides</td>
               <td>[nordic292] The aside attribute class is set to sidebar which is deprecated. <br /></td>
            </tr>
            <tr>
               <td>293</td>
               <td>details element with extended description must be correctly referenced from img element</td>
               <td>The img element must correctly reference the details element with the aria-details attribute.  <br /></td>
            </tr>
         </tbody>
      </table>
   </body>
</html>